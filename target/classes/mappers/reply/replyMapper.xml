<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.reply.replyMapper">
	<select id="list" resultMap="ReplyResultMap">
	 SELECT reply_no , data_no ,
		reply_text , reply_writer , reg_date , update_date FROM reply WHERE
		data_no = #{data_no} ORDER BY reply_no
	</select>
	<insert id="create"> INSERT INTO reply ( data_no , reply_text ,
		reply_writer ) VALUES ( #{data_no} , #{reply_text} ,
		#{reply_writer} )
	</insert>
	<update id="update"> UPDATE reply SET reply_text = #{reply_text} ,
		update_date = NOW() WHERE reply_no = #{reply_no}
	</update>
	<delete id="delete"> DELETE FROM reply WHERE reply_no = #{reply_no}
	</delete>
	<resultMap id="ReplyResultMap" type="ReplyVo">
		<id property="reply_no" column="reply_no" />
		<result property="data_no" column="data_no" />
		<result property="reply_text" column="reply_text" />
		<result property="reply_writer" column="reply_writer" />
		<result property="reg_date" column="reg_date" />
		<result property="update_date" column="update_date" />
	</resultMap>
	<resultMap id="BoardResultMap" type="BoardVo">
		<id property="data_no" column="data_no" />
		<result property="title" column="title" />
		<result property="content" column="content" />
		<result property="mem_nick" column="mem_nick" />
		<result property="regdate" column="regdate" />
		<result property="hit" column="hit" />
	</resultMap>
</mapper>
